<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <meta content="email=no" name="format-detection">
    <title>HO2 - pageSlider - demo</title>
    <style type="text/css">
    html,body{margin: 0; padding: 0;  width: 100%; height: 100%; overflow: hidden;}
    /*.wrapper{position: relative; width: 100%; height: 100%; overflow: hidden;}*/
    .page{position: relative; font-size: 64px;}
    .page:nth-child(1){background-color: #999; color: #fff;}
    .page:nth-child(2){background-color: blue; color: #fff;}
    .page:nth-child(3){background-color: yellow; color: #000;}
    .page:nth-child(4){background-color: green; color: #fff;}
    .page:nth-child(5){background-color: purple; color: #fff;}
    .page:nth-child(6){background-color: pink; color: #fff;}
    .banner{position: relative; width: 100%; height: auto; z-index: 0;}
    img{display: block; vertical-align: top;}
    .bd{position: relative; width: 100%; height: 100%; background-color: inherit; z-index: 1;}
    </style>
</head>
<body ontouchstart>
<div class="wrapper" id="wrap">
    <div class="page">
        <div class="banner" halo-slider-speed=".5">
            <img src="http://jdc.jd.com/halo/demo/images/1.jpg" width="100%" border="0">
        </div>
        <div class="bd">
            1
        </div>
    </div>
    <div class="page">
        <div class="banner" halo-slider-speed=".5">
            <img src="http://jdc.jd.com/halo/demo/images/1.jpg" width="100%" border="0">
        </div>
        <div class="bd">
            2
        </div>
    </div>
    <div class="page">
        <div class="banner" halo-slider-speed=".5">
            <img src="http://jdc.jd.com/halo/demo/images/1.jpg" width="100%" border="0">
        </div>
        <div class="bd">
            <a href="javascript:pageSlider.move(5)">跳转到6</a>
        </div>
    </div>
    <div class="page">
        <div class="banner" halo-slider-speed=".5">
            <img src="http://jdc.jd.com/halo/demo/images/1.jpg" width="100%" border="0">
        </div>
        <div class="bd">
            4
        </div>
    </div>
    <div class="page">
        <div class="banner" halo-slider-speed=".5">
            <img src="http://jdc.jd.com/halo/demo/images/1.jpg" width="100%" border="0">
        </div>
        <div class="bd">
            5
        </div>
    </div>
    <div class="page">
        <div class="banner" halo-slider-speed=".5">
            <img src="http://jdc.jd.com/halo/demo/images/1.jpg" width="100%" border="0">
        </div>
        <div class="bd">
            6
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="http://wq.360buyimg.com/js/ho2/zepto.js"></script>
<script type="text/javascript">
~function(){window.define||(haloRequire=function(a){return window[a]},haloDelWM=function(a){haloR[a],haloWM.hasOwnProperty(a)&&(delete haloWM[a],--haloWM.length<=0&&haloRegister())},haloRegister=function(){for(var a in haloUnR)window[a]=haloUnR[a].module(haloRequire,haloUnR[a]._module.exports,haloUnR[a]._module),delete haloUnR[a]},haloMChk=function(a,b,c){var g,h,d=[],e=a.toString(),f=new RegExp("[^\\.]s*require\\((.+?)\\)","mg");if(e.replace(f,function(a,b){d.push(b.replace(/\"|\'/g,""))}),d.length)for(haloUnR[b]={module:a,_module:c},g=0,h=d.length;h>g;++g)haloR.hasOwnProperty(d[g])||(haloWM[d[g]]=1,++haloWM.length);else window[b]=a(haloRequire,c.exports,c),window[b]||(window[b]=c.exports),haloDelWM(b)},haloUnR={},haloR={},haloWM={length:0},define=function(a,b){if("[object String]"==Object.prototype.toString.call(a)&&!window[a]){var c={exports:{}};"[object Function]"==Object.prototype.toString.call(b)?haloMChk(b,a,c):(window[a]=b,haloDelWM(a))}})}();define("prefix",function(){var d=function(){var a=document.createElement("div");return a.style.cssText="-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;",a.style.webkitTransition?"-webkit-":a.style.MozTransition?"-moz-":a.style.oTransition?"-o-":a.style.msTransition?"-ms-":""}();return window.$&&($.prefix=d),d});define("pageSlider",function(a,b,c){var d=a("prefix"),e=function(a){var b,c,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,e="",f="",i=document.documentElement.clientHeight;if("[object Array]"==Object.prototype.toString.call(this))b=this[0];else if("string"==typeof a.container){if(b=document.querySelector(a.container))throw"Container unexist!"}else{if(!a.container.nodeType||1!=a.container.nodeType)throw"Container unexist!";b=a.container}if(a.onchange="function"==typeof a.onchange?a.onchange:function(){},a.duration=a.duration||300,a.duration2=a.duration2||100,a.direction=a.direction||"Y",c="Y"==a.direction,c?(e="translate3d(0,",f=",0)"):(e="translate3d(",f=",0,0)"),h=c?"pageY":"pageX",i=c?document.documentElement.clientHeight:document.documentElement.clientWidth,j=function(){var d,e,a=[],c=b.childNodes;for(d=0,e=c.length;e>d;++d)1==c[d].nodeType&&a.push(c[d]);return a}(),j.length){for(k=j.length,a.cover=a.cover||0,a.cover>=k?a.cover=k-1:a.cover<0&&(a.cover=0),l=a.cover,m=l+1,n=l-1,a.infinite&&(0>n&&(n=k-1),m>k-1&&(m=0)),b.parentNode.style.overflow="hidden",window.addEventListener("resize",function(){i=c?document.documentElement.clientHeight:document.documentElement.clientWidth}),q=function(a,b){p=a,o=setTimeout(function(){a(),p=a=null},b)},r=function(){clearTimeout(o),"function"==typeof p&&p()},s=!1,t=!1,u=function(a){var b=a.targetTouches||a.changedTouches,c=b[0];F=c.pageX,G=c.pageY,g=c[h],r()},v=function(a){var b=a.targetTouches||a.changedTouches,c=b[0],k=c[h],o=k-g;j[n].style[d+"transform"]=e+(o-i)+"px"+f,j[l].style[d+"transform"]=e+o+"px"+f,j[m].style[d+"transform"]=e+(o+i)+"px"+f},w=function(a){var b=a.targetTouches||a.changedTouches,c=b[0],o=c[h],p=o-g;k-1>l&&l>0?(j[n].style[d+"transform"]=e+(p-i)+"px"+f,j[l].style[d+"transform"]=e+p+"px"+f,j[m].style[d+"transform"]=e+(p+i)+"px"+f,s=t=!1):p>0?0==l?(j[l].style[d+"transform"]=e+p/3+"px"+f,j[m].style[d+"transform"]=e+i+"px"+f,s=!0):(j[n].style[d+"transform"]=e+(p-i)+"px"+f,j[l].style[d+"transform"]=e+p+"px"+f,t=!1):0>p&&(l==k-1?(j[l].style[d+"transform"]=e+p/3+"px"+f,j[n].style[d+"transform"]=e+-1*i+"px"+f,t=!0):(j[l].style[d+"transform"]=e+p+"px"+f,j[m].style[d+"transform"]=e+(p+i)+"px"+f,s=!1))},x=function(b){var s,t,u,v,c=b.changedTouches||b.targetTouches,o=c[0],p=o[h],r=p-g;r>0&&r>=a.offset?(s=d+"transform "+a.duration/1e3+"s linear",j[l].style[d+"transition"]=s,j[n].style[d+"transition"]=s,j[n].style[d+"transform"]=e+0+"px"+f,j[l].style[d+"transform"]=e+i+"px"+f,k-1>=m&&(j[m].style[d+"transform"]=e+i+"px"+f),t=l,u=n,v=m,q(function(){j[t].style[d+"transition"]=j[u].style[d+"transition"]="",a.onchange.call(j,t,u)},a.duration),A(-1)):0>r&&-1*r>=a.offset?(s=d+"transform "+a.duration/1e3+"s linear",j[l].style[d+"transition"]=s,j[l].style[d+"transform"]=e+-1*i+"px"+f,j[m].style[d+"transition"]=s,j[m].style[d+"transform"]=e+0+"px"+f,n>=0&&(j[n].style[d+"transform"]=e+-1*i+"px"+f),t=l,u=n,v=m,q(function(){j[t].style[d+"transition"]=j[v].style[d+"transition"]="",a.onchange.call(j,t,v)},a.duration),A(1)):0!=r&&(s=d+"transform "+a.duration2/1e3+"s linear",n>=0&&(j[n].style[d+"transition"]=s,j[n].style[d+"transform"]=e+-1*i+"px"+f),j[l].style[d+"transition"]=s,j[l].style[d+"transform"]=e+0+"px"+f,k-1>=m&&(j[m].style[d+"transition"]=s,j[m].style[d+"transform"]=e+i+"px"+f),t=l,u=n,v=m,q(function(){y||(j[t].style[d+"transition"]=""),n>=0&&(j[u].style[d+"transition"]=""),k-1>=m&&(j[v].style[d+"transition"]="")},a.duration2))},y=!1,z=function(b){s||t?(j[l].style[d+"transition"]=d+"transform "+a.duration2/1e3+"s linear",j[l].style[d+"transform"]=e+0+"px"+f,q(function(){s=t=!1,j[l].style[d+"transition"]=""},a.duration2)):x(b)},A=function(b){l+=b,n=l-1,m=l+1,a.infinite&&(l>=k?(l=0,n=k-1,m=1):l==k-1?m=0:0>l?(l=k-1,n=l-1,m=0):0==l&&(n=k-1))},B=function(){for(var b=0,c=j.length;c>b;++b)j[b].addEventListener("touchstart",u),a.infinite?(j[b].addEventListener("touchmove",v),j[b].addEventListener("touchend",x),j[b].addEventListener("touchcancel",x)):(j[b].addEventListener("touchmove",w),j[b].addEventListener("touchend",z),j[b].addEventListener("touchcancel",z))},C=function(){for(var b=0,c=j.length;c>b;++b)j[b].removeEventListener("touchstart",u),a.infinite?(j[b].removeEventListener("touchmove",v),j[b].removeEventListener("touchend",x),j[b].removeEventListener("touchcancel",x)):(j[b].removeEventListener("touchmove",w),j[b].removeEventListener("touchend",z),j[b].removeEventListener("touchcancel",z))},D=0,E=j.length;E>D;++D)j[D].style.cssText="position:absolute; left:0; top:0; width:100%; height:100%; "+(a.cover==D?"":d+"transform:"+e+i+"px"+f);return B(),F=0,G=0,H={},H.lock=function(){C()},H.unlock=function(){B()},H.move=function(b){var c,g,h,o;b=parseInt(b)||0,(b>=0||k-1>=b)&&(c=d+"transform "+a.duration/1e3+"s linear",g=b>l?-1:1,a.infinite&&(g=j[b].style[d+"transform"].indexOf("-")>=0?1:-1),j[l].style[d+"transition"]=c,j[l].style[d+"transform"]=e+g*i+"px"+f,j[b].style[d+"transition"]=c,j[b].style[d+"transform"]=e+0+"px"+f,y=!0,h=l,o=b,q(function(){y=!1,j[h].style[d+"transition"]=j[o].style[d+"transition"]="",a.onchange.call(j,h,o)},a.duration),a.infinite?(l=b,n=l-1,m=l+1,0>n&&(n=k-1),m>k-1&&(m=0)):(l=b,n=l-1,m=l+1))},H}};c.exports=e,window.$&&($.pageSlider=$.fn.pageSlider=e)});

var pageSlider=$("#wrap").pageSlider(
    {
        direction:'Y',
        offset:50,
        first:0,
        duration:300,
        infinite:false,
        onchange:function(o,i){
            console.log(o,i);
        }
    }
);
</script>
</html>