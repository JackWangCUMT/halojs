<html>

<head>
	<meta charset="utf-8">
	<meta name='viewport' content='width=device-width, user-scalable=no, initial-scale=1.0'>
	<title>
		
		文档 | wqshare
	</title>
	<script>
		Array.prototype.forEach = [].forEach || function (func) {
			var len = this.length,
				i = 0;
			while (i < len) {
				func.call(this, this[i], i, this);
				i++;
			}
		};
		Array.prototype.filter = [].filter || function (func) {
			var len = this.length,
				i = 0,
				result = [];
			while (i < len) {
				if (func.call(this, this[i], i, this)) {
					result.push(this[i]);
				}
				i++;
			}
			return result;
		};
		['aside', 'header', 'footer', 'nav', 'section', 'main'].forEach(function (val) {
			document.createElement(val);
		});
		String.prototype.trim = String.prototype.trim || function () {
			return this.replace(/^ *([\s\S]+?) *$/g, function (m, g1) {
				return g1;
			});
		};
	</script>
	<link rel="stylesheet" href="/halojs/css/index.css" type="text/css">
	<link rel="stylesheet" href="/halojs/css/prettify.css" type="text/css">
</head>

<body>
	<!--S 头部-->
<header id='j_header' class="header">
	<h2 class="header_logo">
		<a href="/halojs/" alt="JDC" title="JDC">
			<img src='/halojs/img/logo.png'>
		</a>
	</h2>
	<nav>
		<ul>
			<li class='current'>
				<a href="/halojs/api/" title="文档">文档</a>
			</li>
			<li class=''>
				<a href="/halojs/download/" title="下载">下载</a>
			</li>
			<li>
				<a href="https://github.com/o2team/halojs" title="GITHUB" target="_blank" rel="external">GITHUB</a>
			</li>
			<li>
				<a href="http://aotu.io/about/" title="关于凹凸" target="_blank" rel="external">关于凹凸</a>
			</li>
		</ul>
	</nav>
</header>
<!--E 头部-->

<!--S 文章-->
<main class="bd doc">
	<!--S api目录-->

<aside id="j_api" class="api">

	<div class="api_search">
		<input id="j_api_search_input" type='text' placeholder="搜索(支持正则表达式)">
	</div>
	<div id="j_api_list" class="api_list">
		<ul id='j_api_list_normal' class="api_list_normal">
			<li class="api_list_title">概述</li><li class="api_list_item"><a href="/halojs/api/index.html">关于HaloJS</a></li><li class="api_list_title">翻页模块</li><li class="api_list_item"><a href="/halojs/api/cardSlider.html">cardSlider</a></li><li class="api_list_item"><a href="/halojs/api/pageSlider.html">pageSlider</a></li><li class="api_list_item"><a href="/halojs/api/parallaxSlider.html">parallaxSlider</a></li><li class="api_list_title">UI模块</li><li class="api_list_item"><a href="/halojs/api/PCPrompt.html">PCPrompt</a></li><li class="api_list_item"><a href="/halojs/api/warn.html">warn</a></li><li class="api_list_item"><a href="/halojs/api/shareTips.html">shareTips</a></li><li class="api_list_item"><a href="/halojs/api/textMarquee.html">textMarquee</a></li><li class="api_list_item"><a href="/halojs/api/dialog.html">dialog</a></li><li class="api_list_item"><a href="/halojs/api/imgPlayer.html">imgPlayer</a></li><li class="api_list_item"><a href="/halojs/api/numberScroll.html">numberScroll</a></li><li class="api_list_title">基础模块</li><li class="api_list_item"><a href="/halojs/api/prefix.html">prefix</a></li><li class="api_list_item"><a href="/halojs/api/compare.html">compare</a></li><li class="api_list_item"><a href="/halojs/api/cookie.html">cookie</a></li><li class="api_list_item"><a href="/halojs/api/randomSort.html">randomSort</a></li><li class="api_list_item"><a href="/halojs/api/remember.html">remember</a></li><li class="api_list_item"><a href="/halojs/api/loader.html">loader</a></li><li class="api_list_item"><a href="/halojs/api/request.html">request</a></li><li class="api_list_item"><a href="/halojs/api/enablea.html">enablea</a></li><li class="api_list_item"><a href="/halojs/api/urlAppend.html">urlAppend</a></li><li class="api_list_item"><a href="/halojs/api/isDom.html">isDom</a></li><li class="api_list_item"><a href="/halojs/api/objectUpdate.html">objectUpdate</a></li><li class="api_list_item"><a href="/halojs/api/stylesheet.html">stylesheet</a></li><li class="api_list_item"><a href="/halojs/api/jsonp.html">jsonp</a></li><li class="api_list_item"><a href="/halojs/api/ezLoader.html">ezLoader</a></li>
		</ul>
		<ul id='j_api_list_search' class="api_list_search"></ul>
	</div>
</aside>

<!--E api目录-->


	<!--S 文章-->
<div id='j_post' class="post">
	<h1 id="wqshare" class="post_title">
		wqshare
	</h1>
	<div class="post_content">
		<h2 id="u529F_u80FD"><a href="#u529F_u80FD" class="headerlink" title="功能"></a>功能</h2><p>兼容手Q微信原来的方法，使用window.shareConfig对象来配置对象</p>
<blockquote>
<p>author leeenx<br>version 1.0.0<br>date: 2016-01-03</p>
</blockquote>
<h2 id="Official_Usage"><a href="#Official_Usage" class="headerlink" title="Official Usage"></a>Official Usage</h2><pre><code class="javascript">window.shareConfig = {
    img_url: &#39;http://wqs.jd.com/promote/2015/childrensday/images/share.png&#39;,//分享图标 - 必选
    img_width: 80,//分享图片尺寸之宽 - 可选
    img_height: 80,//分享图片尺寸之高 - 可选
    link: location.href,//分享地址 - 必选
    title: &#39;乐享六一，儿童节礼物免费领&#39;,//分享标题 - 必选
    desc: &#39;京东六一送大礼！积木、泰迪熊、遥控汽车、早教机，5000元旅游基金免费领哟！动动手指就有机会获得~&#39;,//分享描述 - 必选
    shareCallback:function(sharetype,retmsg,appret){
        /*
            @sharetype:分享类型
            @retmsg:分享结果信息
            @appret:手Q或微信接口返回的原始信息
            @@手Q对应的参数
                sharetype有四个值：&quot;ShareToQQ&quot;,&quot;ShareToQzone&quot;,&quot;ShareToWX&quot;,&quot;ShareToPYQ&quot;
                retmsg有两个值：ok,cancel
                appret有两个值：0和1。分别对就上面的ok和cancel。表示分享成功和取消
            @@微信对应的参数
                sharetype 有3个值：&quot;sendAppMessage&quot;,&quot;shareTimeline&quot;，&quot;shareQQ&quot; -- 分享到QZONE或是QQ好友，都是shareQQ,并且不管有没有成功都提示成功
                retmsg有两个值：ok,cancel（理论上还有一个fail分享失败）
                appret有8个值(分享给好友4个与分享朋友圈4个)：
                分享给微信好友:
                &#39;share_timeline:cancel&#39; - 用户点取消
                &#39;share_timeline:fail&#39; - 分享失败
                &#39;share_timeline:confirm&#39; - 分享成功
                &#39;share_timeline:ok&#39; - 分享成功
                分享到朋友圈：
                &#39;send_app_msg:cancel&#39; - 用户点取消
                &#39;send_app_msg:fail&#39; - 分享失败
                &#39;send_app_msg:confirm&#39; - 分享成功
                &#39;send_app_msg:ok&#39; - 分享成功
        */
        //简单地只需要判断retmsg为ok与cancel就可以了
        if(&quot;ok&quot;==retmsg){
            alert(&quot;分享成功&quot;);
        }else{
            alert(&quot;用户取消分享&quot;);
        }
    }
};
</code></pre>
<h2 id="Lazy_Usage"><a href="#Lazy_Usage" class="headerlink" title="Lazy Usage"></a>Lazy Usage</h2><pre><code class="javascript">window.shareConfig = {
    img_url: &#39;http://wqs.jd.com/promote/2015/childrensday/images/share.png&#39;,//分享图标 - 必选
    link: location.href,//分享地址 - 必选
    title: &#39;乐享六一，儿童节礼物免费领&#39;,//分享标题 - 必选
    desc: &#39;京东六一送大礼！积木、泰迪熊、遥控汽车、早教机，5000元旅游基金免费领哟！动动手指就有机会获得~&#39;
};
</code></pre>
<h2 id="u53C2_u6570_u5217_u8868"><a href="#u53C2_u6570_u5217_u8868" class="headerlink" title="参数列表"></a>参数列表</h2><table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">必选</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">img_url</td>
<td style="text-align:center">string</td>
<td style="text-align:center">compulsory</td>
<td style="text-align:left">分享图标</td>
</tr>
<tr>
<td style="text-align:center">link</td>
<td style="text-align:center">string</td>
<td style="text-align:center">compulsory</td>
<td style="text-align:left">分享地址</td>
</tr>
<tr>
<td style="text-align:center">title</td>
<td style="text-align:center">string</td>
<td style="text-align:center">compulsory</td>
<td style="text-align:left">分享标题</td>
</tr>
<tr>
<td style="text-align:center">desc</td>
<td style="text-align:center">string</td>
<td style="text-align:center">compulsory</td>
<td style="text-align:left">分享描述</td>
</tr>
<tr>
<td style="text-align:center">img_width</td>
<td style="text-align:center">int</td>
<td style="text-align:center">optional</td>
<td style="text-align:left">分享图标宽度</td>
</tr>
<tr>
<td style="text-align:center">img_height</td>
<td style="text-align:center">int</td>
<td style="text-align:center">optional</td>
<td style="text-align:left">分享图标高度</td>
</tr>
<tr>
<td style="text-align:center">shareCallback</td>
<td style="text-align:center">function</td>
<td style="text-align:center">optional</td>
<td style="text-align:left">分享回调。会返回三个参数: sharetype,retmsg,appret。<br>参见sharetype,retmsg,appret详解</td>
</tr>
</tbody>
</table>
<h2 id="sharetype__u8BE6_u89E3"><a href="#sharetype__u8BE6_u89E3" class="headerlink" title="sharetype 详解"></a>sharetype 详解</h2><blockquote>
<p>分享类型</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">环境</th>
<th style="text-align:left">值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">微信</td>
<td style="text-align:left">sendAppMessage - 分享给好友,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>shareTimeline - 分享到朋友圈，<br>shareQQ – 分享到QZONE或是QQ好友</td>
</tr>
<tr>
<td style="text-align:center">手Q</td>
<td style="text-align:left">ShareToQQ - 分享给QQ好友或QQ群,<br>ShareToQzone - 分享到QZONE,<br>ShareToWX - 分享给微信好友,<br>ShareToPYQ - 分享到微信朋友圏</td>
</tr>
</tbody>
</table>
<h2 id="sharemsg__u8BE6_u89E3"><a href="#sharemsg__u8BE6_u89E3" class="headerlink" title="sharemsg 详解"></a>sharemsg 详解</h2><blockquote>
<p>分享结果信息</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">环境</th>
<th style="text-align:left">值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">微信</td>
<td style="text-align:left">ok - 分享成功；cancel - 取消分享 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</td>
</tr>
<tr>
<td style="text-align:center">手Q</td>
<td style="text-align:left">ok - 分享成功；cancel - 取消分享</td>
</tr>
</tbody>
</table>
<h2 id="appret__u8BE6_u89E3"><a href="#appret__u8BE6_u89E3" class="headerlink" title="appret 详解"></a>appret 详解</h2><blockquote>
<p>接口返回的原始信息</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">环境</th>
<th style="text-align:left">值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">微信</td>
<td style="text-align:left">分享给微信好友: <br>&nbsp; &nbsp; &nbsp; &nbsp; ‘share_timeline:cancel’ - 用户点取消<br>&nbsp; &nbsp; &nbsp; &nbsp; ‘share_timeline:fail’ - 分享失败<br>&nbsp; &nbsp; &nbsp; &nbsp; ‘share_timeline:confirm’ - 分享成功<br>&nbsp; &nbsp; &nbsp; &nbsp; ‘share_timeline:ok’ - 分享成功<br>分享到朋友圈：<br>&nbsp; &nbsp; &nbsp; &nbsp; ‘send_app_msg:cancel’ - 用户点取消<br>&nbsp; &nbsp; &nbsp; &nbsp; ‘send_app_msg:fail’ - 分享失败<br>&nbsp; &nbsp; &nbsp; &nbsp; ‘send_app_msg:confirm’ - 分享成功<br>&nbsp; &nbsp; &nbsp; &nbsp; ‘send_app_msg:ok’ - 分享成功</td>
</tr>
<tr>
<td style="text-align:center">手Q</td>
<td style="text-align:left">0和1。分别对就上面的ok和cancel。表示分享成功和取消</td>
</tr>
</tbody>
</table>
<h2 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h2><div class="post_content_demo fix"><a href="http://aotu.io/halojs/demo/wqshare.html" target="_blank">点击查看wqshare</a><div class="post_content_dbtn" data-url="http://aotu.io/haloDoc/demo/wqshare.html">显示二维码<div></div></div></div>

	</div>

	<div class="post_comment">
		
				<div id="disqus_thread"></div>
				<script>
					var disqus_config = function () {
						this.page.url = 'http://aotu.io/halojs/api/wqshare.html';
						this.page.identifier = 'cijtr3y3p0031jtfyupqnw9ts';
					};
					(function() {
						var d = document, s = d.createElement('script');
						s.src = '//halodoc.disqus.com/embed.js';
						s.setAttribute('data-timestamp', +new Date());
						(d.head || d.body).appendChild(s);
					})();
				</script>
		
	</div>
</div>
<!--E 文章-->

</main>
<div id='j_panel' class='panel'>
	<div class='panel_hd'>
		<h2>
			<a href='/halojs/'>HaloJS</a>
			<span>DOC</span>
		</h2>
	</div>
	<ul class='panel_list'>
		<li class="panel_list_title">概述</li><li class="panel_list_item"><a href="/halojs/api/index.html">关于HaloJS</a></li><li class="panel_list_title">翻页模块</li><li class="panel_list_item"><a href="/halojs/api/cardSlider.html">cardSlider</a></li><li class="panel_list_item"><a href="/halojs/api/pageSlider.html">pageSlider</a></li><li class="panel_list_item"><a href="/halojs/api/parallaxSlider.html">parallaxSlider</a></li><li class="panel_list_title">UI模块</li><li class="panel_list_item"><a href="/halojs/api/PCPrompt.html">PCPrompt</a></li><li class="panel_list_item"><a href="/halojs/api/warn.html">warn</a></li><li class="panel_list_item"><a href="/halojs/api/shareTips.html">shareTips</a></li><li class="panel_list_item"><a href="/halojs/api/textMarquee.html">textMarquee</a></li><li class="panel_list_item"><a href="/halojs/api/dialog.html">dialog</a></li><li class="panel_list_item"><a href="/halojs/api/imgPlayer.html">imgPlayer</a></li><li class="panel_list_item"><a href="/halojs/api/numberScroll.html">numberScroll</a></li><li class="panel_list_title">基础模块</li><li class="panel_list_item"><a href="/halojs/api/prefix.html">prefix</a></li><li class="panel_list_item"><a href="/halojs/api/compare.html">compare</a></li><li class="panel_list_item"><a href="/halojs/api/cookie.html">cookie</a></li><li class="panel_list_item"><a href="/halojs/api/randomSort.html">randomSort</a></li><li class="panel_list_item"><a href="/halojs/api/remember.html">remember</a></li><li class="panel_list_item"><a href="/halojs/api/loader.html">loader</a></li><li class="panel_list_item"><a href="/halojs/api/request.html">request</a></li><li class="panel_list_item"><a href="/halojs/api/enablea.html">enablea</a></li><li class="panel_list_item"><a href="/halojs/api/urlAppend.html">urlAppend</a></li><li class="panel_list_item"><a href="/halojs/api/isDom.html">isDom</a></li><li class="panel_list_item"><a href="/halojs/api/objectUpdate.html">objectUpdate</a></li><li class="panel_list_item"><a href="/halojs/api/stylesheet.html">stylesheet</a></li><li class="panel_list_item"><a href="/halojs/api/jsonp.html">jsonp</a></li><li class="panel_list_item"><a href="/halojs/api/ezLoader.html">ezLoader</a></li>
	</ul>
	<a id='j_menu' href='javascript:;' class="menu">
		<span></span>
	</a>
</div>
<!--S 底部-->
<footer class="footer">
	<div class="footer-sec copyright">
		© 2016 <a href="http://aotu.io" target="_blank">凹凸实验室</a><br>
		Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
	</div>
</footer>
<!--E 底部-->

<script id='j_template' type="text/template">
	<li class='api_list_item'>
		<a href='{{ href }}'>
			{{ title }}
			{{ #parent }}
				<span> - {{ title }}</span>
			{{ /parent }}
		</a>
	</li>
</script>
<!--E 文章-->

	<script type="text/javascript">
		window.hexo = {};
		hexo.config = JSON.parse(
			'{"title":"Hexo","subtitle":"","description":"","author":"o2team","language":"","timezone":"","url":"http://aotu.io/halojs","root":"/halojs/","permalink":"api/:title.html","permalink_defaults":{},"source_dir":"source","public_dir":"external","tag_dir":"tags","archive_dir":"archives","category_dir":"categories","code_dir":"downloads/code","i18n_dir":":lang","skip_render":["demo/**","src/**"],"new_post_name":":title.md","default_layout":"post","titlecase":false,"external_link":true,"filename_case":0,"render_drafts":false,"post_asset_folder":false,"relative_link":false,"future":true,"highlight":false,"default_category":"uncategorized","category_map":{},"tag_map":{},"date_format":"YYYY-MM-DD","time_format":"HH:mm:ss","per_page":10,"pagination_dir":"page","theme":"hexo-theme-doc","deploy":{},"deploy_dir":".deploy_external","environment":"external","repo":"git@github.com:o2team/halojs.git","index_generator":{"per_page":10},"server":{"log":false,"ip":"0.0.0.0"},"marked":{"gfm":true,"pedantic":false,"sanitize":false,"tables":true,"breaks":true,"smartLists":true,"smartypants":true}}'
		);
		hexo.theme = JSON.parse(
			'{"title":"Hexo","subtitle":"","description":"","author":"o2team","language":"","timezone":"","url":"http://aotu.io/halojs","root":"/halojs/","permalink":"api/:title.html","permalink_defaults":{},"source_dir":"source","public_dir":"external","tag_dir":"tags","archive_dir":"archives","category_dir":"categories","code_dir":"downloads/code","i18n_dir":":lang","skip_render":["demo/**","src/**"],"new_post_name":":title.md","default_layout":"post","titlecase":false,"external_link":true,"filename_case":0,"render_drafts":false,"post_asset_folder":false,"relative_link":false,"future":true,"highlight":false,"default_category":"uncategorized","category_map":{},"tag_map":{},"date_format":"YYYY-MM-DD","time_format":"HH:mm:ss","per_page":10,"pagination_dir":"page","theme":"hexo-theme-doc","deploy":{},"deploy_dir":".deploy_external","environment":"external","repo":"git@github.com:o2team/halojs.git","index_generator":{"per_page":10},"server":{"log":false,"ip":"0.0.0.0"},"marked":{"gfm":true,"pedantic":false,"sanitize":false,"tables":true,"breaks":true,"smartLists":true,"smartypants":true},"Comment":"Disqus"}'
		);
		hexo.path = 'api/wqshare.html';
		hexo.title = 'wqshare';
	</script>
	<script src="/halojs/js/bundle.js" type="text/javascript"></script>
</body>

</html>
